<!DOCTYPE html>
<html>
<head>
    <title>Gestión de Direcciones</title>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
    <style>
        /* Añade estilos personalizados si es necesario */
    </style>
</head>
<body>
    <div class="container">
        <h1 class="mt-4">Gestión de Direcciones</h1>
        
        <!-- Formulario para ingresar la dirección IP del servidor de base de datos -->
        <form action="/" method="POST" class="mt-4">
            <div class="form-group">
                <label for="db_host">Dirección IP del Servidor de Base de Datos:</label>
                <input type="text" id="db_host" name="db_host" class="form-control" required>
            </div>
            <button type="submit" class="btn btn-primary">Actualizar y Mostrar Información del Servidor</button>
        </form>
        
        <hr class="my-4">
        
        {% if db_info %}
        <!-- Información del Servidor -->
        <div class="card my-4">
            <h5 class="card-header">Información del Servidor</h5>
            <div class="card-body">
                <p><strong>IP Address:</strong> {{ db_info.ip_address }}</p>
                <p><strong>Arquitectura:</strong> {{ db_info.cpu_architecture }}</p>
                <p><strong>Detalle:</strong> {{ db_info.os_version }}</p>

            </div>
        </div>
        {% endif %}
        
        <!-- Formulario para consultar direcciones -->
        <form action="/consultar" method="POST">
            <button type="submit" class="btn btn-success mb-4">Consultar Direcciones</button>
        </form>
        
        <hr class="my-4">
        
        <!-- Formulario para agregar dirección -->
        <form action="/agregar" method="POST">
            <h3 class="mb-3">Agregar Dirección</h3>
            <div class="form-group">
                <label for="address">Dirección:</label>
                <input type="text" id="address" name="address" class="form-control" required>
            </div>
            <div class="form-group">
                <label for="address2">Dirección 2:</label>
                <input type="text" id="address2" name="address2" class="form-control">
            </div>
            <div class="form-group">
                <label for="district">Distrito:</label>
                <input type="text" id="district" name="district" class="form-control" required>
            </div>
            <div class="form-group">
                <label for="city_id">ID de Ciudad:</label>
                <input type="text" id="city_id" name="city_id" class="form-control" required>
            </div>
            <div class="form-group">
                <label for="postal_code">Código Postal:</label>
                <input type="text" id="postal_code" name="postal_code" class="form-control" required>
            </div>
            <div class="form-group">
                <label for="phone">Teléfono:</label>
                <input type="text" id="phone" name="phone" class="form-control" required>
            </div>
            <button type="submit" class="btn btn-primary">Agregar Dirección</button>
        </form>
        
        <!-- Resultados de la consulta -->
        {% if query %}
        <h3 class="mt-4">Resultados de la Consulta</h3>
        <table class="table table-bordered mt-3">
            <thead class="thead-dark">
                <tr>
                    {% for col in columns %}
                    <th scope="col">{{ col }}</th>
                    {% endfor %}
                </tr>
            </thead>
            <tbody>
                {% for row in result %}
                <tr>
                    {% for col in row %}
                    <td>{{ col }}</td>
                    {% endfor %}
                </tr>
                {% endfor %}
            </tbody>
        </table>
        {% endif %}
    </div>
    
    <!-- Bootstrap JS y jQuery (opcional, dependiendo de las necesidades) -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js" integrity="sha384-Cr8HYpSiZkq4ZcJSU9uQzlGt1k7yMWAxZtFL6+WUZsxXlJlilLyrq+MOPBI0zQb8" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8sh+pbFh65PY0j3E0Byh2FCtJfIM+DeVjWzn6H" crossorigin="anonymous"></script>
</body>
</html>

